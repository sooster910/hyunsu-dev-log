# 해외 사용자에게 일관성 있는 날짜 표기

## Luxon라이브러리 선택 이유 : <혼란스러운 Date 문제점 정리>

### **정리**

| **주의사항**      | **발생 원인**              | **해결 방법**                               |
| ------------- | ---------------------- | --------------------------------------- |
| **ISO 해석 문제** | `2024-12-21` → UTC로 해석 | `new Date('2024-12-21T00:00:00+09:00')` |
| **브라우저 불일치**  | 브라우저와 Node.js 파싱 불일치   | `new Date('2024-12-21T00:00:00Z')`      |
| **월 인덱스 혼란**  | 0부터 시작 (12월 = 11)      | `new Date(2024, 11, 21)`                |
| **타임존 문제**    | UTC와 로컬 타임존 차이         | `toLocaleString({ timeZone })`          |

### 1. JS에서 Date 입력에 대한 불확실성

`new Date(day)`에 전달하는 **day의 형식**에 따라 결과가 달라질 수 있다.

* **ISO 8601 형식**(예: `'2024-12-21'`)은 **UTC 기준**으로 해석된다.
* **YYYY/MM/DD 형식**(예: `'2024/12/21'`)은 **로컬 시간대**로 해석된다.
* 브라우저마다 **날짜 파싱 방식**이 다를 수 있습니다.
  * 예를 들어, 일부 브라우저는 `2024-12-21`을 **UTC**로, 일부는 **로컬 시간대**로 해석합니다.

&#x20;

### **2. 월(month) 인덱스에 대한 혼란**

`new Date(year, month, day)`의 **month 인덱스는 0부터 시작**합니다.

#### 🔍 **문제 상황**

* **1월 = 0**, **2월 = 1**, ..., **12월 = 11**
* 만약 `new Date(2024, 12, 21)`을 사용하면 **2025년 1월 21일**이 됩니다.
  * 이유: 12월이 아니라 **13번째 달**로 해석됩니다.

#### 🔥 **예시 코드**

```javascript
javascriptCopy codeconst date = new Date(2024, 11, 21) // 2024년 12월 21일
console.log(date.toISOString()) // 올바른 12월 21일
```

#### 💡 **권장사항**

* **항상 0부터 시작하는 인덱스를 기억하세요.**
* 실수 없이 코딩하려면 `new Date('2024-12-21')`처럼 **ISO 형식을 사용하는 것**이 더 안전합니다.

### **3. 타임존 고려 (로컬 vs UTC)**

`new Date()`를 사용하면 **브라우저의 로컬 시간대**로 해석됩니다.\
하지만, **UTC로 고정해야 할 경우가 많습니다** (예약 플랫폼 등).

#### 🔍 **문제 상황**

* 한국(KST, UTC+9) 사용자가 특정 날짜를 입력할 때,
  * `new Date('2024-12-21')` → `2024-12-20T15:00:00.000Z` (UTC)로 변환됨
  * 즉, **사용자가 21일을 선택했는데, 20일로 해석**되는 경우가 발생합니다.
  * 이유: **로컬(KST) → UTC 변환** 시, 9시간이 빠져버립니다.

#### 🛠️ **해결 방법**

1. **명시적 시간대 지정**: `new Date('2024-12-21T00:00:00+09:00')`
2.  **로컬 시간 강제 설정**:

    ```javascript
    javascriptCopy codeconst localDate = new Date('2024-12-21')
    const fixedDate = new Date(localDate.getFullYear(), localDate.getMonth(), localDate.getDate())
    console.log(fixedDate) // 로컬 타임존으로 고정된 날짜
    ```



### **4. 브라우저와 런타임 간의 파싱 불일치**

브라우저와 **Node.js의 해석 방식이 다를 때**가 많습니다.

#### 🔍 **문제 상황**

* 브라우저는 **지역 표준에 따른 방식**으로 날짜를 파싱하는 경우가 많습니다.
* **Node.js**는 **ISO 8601 표준을 우선**합니다.
* `'2024-12-21'`와 같은 **YYYY-MM-DD 형식**은 브라우저에서 **UTC**로 해석될 가능성이 있습니다.

#### 🔥 **예시 코드**

```javascript
console.log(new Date('2024-12-21')) // Node.js에서는 UTC로 해석
console.log(new Date('2024/12/21')) // Node.js에서는 로컬 타임존으로 해석
```

#### 💡 **권장사항**

* **명시적 시간대 지정**: `new Date('2024-12-21T00:00:00+09:00')`
* Node.js와 브라우저의 차이를 피하려면 **dayjs, date-fns, moment.js** 같은 라이브러리를 사용하는 것이 좋습니다.



***



### 미국에서의 섬머타임&#x20;

* 미국에는 섬머타임이 있는데 (DST, Daylight Saving Time) 여름철 낮 시간을 더 효율적으로 활용하기 위해 **표준 시간보다 1시간 앞당겨 낮시간을 더 많이 활용 하는 제도이다.  이로 인해 에너지 절약을 할 수 있다.**
* Summer Time이 적용되는 경우, 시간대가 1시간 변동될 수 있습니다.&#x20;
* 예: 미국 뉴욕(EST) → 서머타임이 시작되면 UTC-4 (EDT)로 변경된다.
* 이로 인해, 여름철에 뉴욕의 시차는 한국(KST)과 **13시간** 차이가 나고, 겨울철에는 **14시간** 차이가 난다.



***

### 타임존, 로케일 정리

| **항목** | **Locale (로케일)** | **Timezone (타임존)** |
| ------ | ---------------- | ------------------ |

| **정의** | 언어 및 문화의 포맷 방식 | 지구상의 위치에 따른 시간 기준 |
| ------ | -------------- | ----------------- |

| **영향을 미치는 것** | 날짜/시간의 **표시 형식** (YYYY-MM-DD, MM/DD/YYYY) | **시간 자체**에 영향을 미침 (UTC+9) |
| ------------- | ----------------------------------------- | ------------------------- |

| **형식 예시** | `ko-KR`, `en-US`, `ja-JP` | UTC+9, UTC-5, KST, JST, EST |
| --------- | ------------------------- | --------------------------- |

| **주요 차이** | 포맷과 표시 방식의 차이 | 시간대에 따른 **시간 차이** 발생 |
| --------- | ------------- | -------------------- |

| **예시** | 2024/12/21 (한국), 12/21/2024 (미국) | UTC+9(KST) → UTC-5(EST) |
| ------ | -------------------------------- | ----------------------- |



#### **`toLocaleDateString()`**

* 날짜만 출력됩니다.
* 시간 정보는 포함되지 않으며, 날짜 형식만 반환됩니다.

예시:

```javascript
javascriptCopy codeconst now = new Date();
console.log(now.toLocaleDateString('ko-KR', { timeZone: 'Asia/Seoul' }));
```

출력: `2024. 12. 14.` (날짜만)

#### 2. **`toLocaleString()`**

* 날짜와 시간 모두 출력됩니다.
* `timeZone` 옵션을 사용하여 특정 시간대의 날짜 및 시간을 표시할 수 있습니다.

예시:

```javascript
javascriptCopy codeconst now = new Date();
console.log(now.toLocaleString('ko-KR', { timeZone: 'Asia/Seoul' }));
```

출력: `2024. 12. 14. 오전 11:30:00` (날짜와 시간 포함)







###









