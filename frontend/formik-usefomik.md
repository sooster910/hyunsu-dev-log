---
hidden: true
---

# 기존 Formik 와 useFomik유연하게 사용하기

react-hook-form는 ref를 통해 DOM에 직접 접근하여 값을 관리하는 Uncontrolled 컴포넌트 방식이다. 이에 반해, Formik 는 react의 state를 이용한 Controlled방식이다. 그래서 input의 value값이 react state로 관리되기 때문에 모든 타이핑이 state로 컨트롤 되어진다. 당연히 그만큼 cost가 든다. 즉 모든 입력마다 리렌더링이 발생하니 대규모 폼에서는 성능 저하가 있다.

react-hook-form을 아직 사용해보진 않았지만, Formik 는 실시간 유효성검사, 모든게 한곳에서 폼을 만들면서 다 확인할 수 있기 빠르게 폼을 구축해야 할때는 엄청 편하긴하다. 그리고 어느정도 너무 대규모 폼이 아니라면 혹은 성능보다는 검증이 중요한 곳에서는 formik를 사용해 안정성을 확보하는 방향을 선택할 땐 formik가 역할을 잘 해주는것 같다.



그래서 그런지 초기 우리 회사 코드도 이러한 이유때문에 사용하지 않았나 싶다.  초기스타트업에 어드민 주문 처리라서 어느정도 복잡도는 있지만 개발하면서 개발 안정성을 챙기면서 아직은 성능은 신경쓰지 않아도되는 상황.&#x20;



RenderProp 패턴 으로 이루어져 있는데, 사실 난 이 패턴에 이질감보다는 어느정도 익숙해 있고 Compound Component처럼 선언적으로 작성하는걸 선호하는 편이다. 그래서 개인적 패턴 으로는 읽는데 큰 무리가 없다.

그런데 그것도 어느정도 짧고 로직과 UI에 대한 분리가 잘되어 있을 때 이야기다.&#x20;

진짜.. 심한경우

<figure><img src="../.gitbook/assets/image (3).png" alt=""><figcaption></figcaption></figure>

무려 .. 1116줄이다. 아니 더 심한 코드도 있다. 1400줄 ..

코드가 길면 그만큼 생산성에 지대한 영향을 미친다.





기존 주문 처리 시스템에서는 UX 일관성을 유지하기 위해 같은 디자인과 구조를 기반으로 해야 했습니다. 그러나 기존의 Formik는 **render props** 방식으로 강하게 결합되어 있어 필드의 동적 활성화 및 비활성화 조건부 처리가 어려웠습니다. 이로 인해 조건에 따라 필드를 활성화하거나 비활성화하는 로직을 유연하게 처리하는 데 어려움이 있었습니다. 이를 해결하기 위해 **Formik의 훅 API**인 `useFormik`을 활용하여 보다 유연한 상태 관리와 동적 폼 처리 기능을 구현하였습니다









&#x20;에 비해 기본적으로 최적화가 되어있지 않다. 그 이유는 formik 는 controlled&#x20;
